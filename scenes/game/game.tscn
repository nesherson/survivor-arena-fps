[gd_scene load_steps=12 format=3 uid="uid://c15h5w7s662co"]

[ext_resource type="Script" uid="uid://cc4gmgarxkuea" path="res://scripts/game/game.gd" id="1_5i0tg"]
[ext_resource type="PackedScene" uid="uid://c6eftswfesm4c" path="res://scenes/player/player.tscn" id="1_sul5r"]
[ext_resource type="Material" uid="uid://r2cc6tfu230g" path="res://materials/platform.tres" id="2_0sr1o"]
[ext_resource type="Material" uid="uid://c5j0gij8mtd7e" path="res://materials/bridge.tres" id="3_0sr1o"]
[ext_resource type="PackedScene" uid="uid://dr8xmhqkgx00p" path="res://scenes/enemies/mob.tscn" id="4_kelw5"]
[ext_resource type="PackedScene" uid="uid://yagxroxn8o41" path="res://scenes/enemies/mob_spawner.tscn" id="5_lfrn8"]

[sub_resource type="Environment" id="Environment_sul5r"]
background_mode = 1
background_color = Color(0.625842, 0.738152, 0.859392, 1)
ambient_light_source = 2
ambient_light_color = Color(0.740163, 0.74765, 0.745803, 1)
tonemap_mode = 2
tonemap_exposure = 1.15
tonemap_white = 2.15
fog_enabled = true
fog_light_color = Color(0.39795, 0.564944, 0.744297, 1)
fog_density = 0.02
fog_height = 1.0
fog_height_density = 0.25

[sub_resource type="LabelSettings" id="LabelSettings_lfrn8"]
font_size = 42

[sub_resource type="LabelSettings" id="LabelSettings_5i0tg"]
font_size = 42

[sub_resource type="LabelSettings" id="LabelSettings_bdhmt"]
font_size = 32

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_5i0tg"]

[node name="Game" type="Node3D"]
script = ExtResource("1_5i0tg")
game_time_limit = 3

[node name="Player" parent="." instance=ExtResource("1_sul5r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, 2)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 5, 3)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sul5r")

[node name="MobSpawner" parent="." instance=ExtResource("5_lfrn8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -28)
mob_to_spawn = ExtResource("4_kelw5")

[node name="MobSpawner2" parent="." instance=ExtResource("5_lfrn8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 29)
mob_to_spawn = ExtResource("4_kelw5")
spawn_wait_time = 2.5

[node name="ScoreLabel" type="Label" parent="."]
unique_name_in_owner = true
offset_left = 19.0
offset_top = 6.0
offset_right = 177.0
offset_bottom = 64.0
text = "Score: 0"
label_settings = SubResource("LabelSettings_lfrn8")

[node name="GameTimeoutLabel" type="Label" parent="."]
unique_name_in_owner = true
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -100.0
offset_top = 9.0
offset_right = 101.0
offset_bottom = 67.0
grow_horizontal = 2
text = "Time left: "
label_settings = SubResource("LabelSettings_5i0tg")

[node name="GameTimeoutTimer" type="Timer" parent="."]
unique_name_in_owner = true
autostart = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameOverOverlay" type="ColorRect" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
color = Color(0.288518, 0.288518, 0.288518, 0.196078)

[node name="GameWonLabel" type="Label" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -72.0
offset_right = 204.0
offset_bottom = -27.0
grow_horizontal = 2
grow_vertical = 2
text = "Congratulations, you won!"
label_settings = SubResource("LabelSettings_bdhmt")

[node name="KillPlane" type="Area3D" parent="."]
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="KillPlane"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)
shape = SubResource("WorldBoundaryShape3D_5i0tg")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.46766, 0)
use_collision = true
size = Vector3(10, 5, 10)
material = ExtResource("2_0sr1o")

[node name="CSGBox3D5" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25, -2.468, 0)
use_collision = true
size = Vector3(15, 5, 15)
material = ExtResource("2_0sr1o")

[node name="CSGBox3D4" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.468, -25)
use_collision = true
size = Vector3(15, 5, 15)
material = ExtResource("2_0sr1o")

[node name="CSGBox3D3" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.468, 25)
use_collision = true
size = Vector3(15, 5, 15)
material = ExtResource("2_0sr1o")

[node name="CSGBox3D2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25, -2.468, 0)
use_collision = true
size = Vector3(15, 5, 15)
material = ExtResource("2_0sr1o")

[node name="CSGBox3D6" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.011, -0.468, 0)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D8" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.461, -0.468, 0)
use_collision = true
size = Vector3(4.6, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D9" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.011, -0.468, 0)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D10" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.0109999, -0.468, 15.5)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D11" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.0109997, -0.468, 10.9)
use_collision = true
size = Vector3(4.7, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D13" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.0109994, -0.468, 6.5)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D14" type="CSGBox3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -6.489, -0.468, 0)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D15" type="CSGBox3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -11.139, -0.468, 1.44248e-07)
use_collision = true
size = Vector3(4.8, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D17" type="CSGBox3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -15.489, -0.468, 0)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D18" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.0109997, -0.468, -6.5)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D19" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.0109996, -0.468, -11.05)
use_collision = true
size = Vector3(4.6, 1, 3)
material = ExtResource("3_0sr1o")

[node name="CSGBox3D21" type="CSGBox3D" parent="."]
transform = Transform3D(0.006357, -0.00362094, 0.999973, 0.00197422, 0.999992, 0.00360846, -0.999978, 0.00195124, 0.00636409, 0.0109997, -0.468, -15.5)
use_collision = true
size = Vector3(1.5, 1, 3)
material = ExtResource("3_0sr1o")

[connection signal="mob_spawned" from="MobSpawner" to="." method="_on_mob_spawner_mob_spawned"]
[connection signal="mob_spawned" from="MobSpawner2" to="." method="_on_mob_spawner_mob_spawned"]
[connection signal="timeout" from="GameTimeoutTimer" to="." method="_on_game_timeout_timer_timeout"]
[connection signal="body_entered" from="KillPlane" to="." method="_on_kill_plane_body_entered"]
